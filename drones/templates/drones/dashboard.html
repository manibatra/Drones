<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Dashboard</title>
</head>
<body>
    <button id="drones-location-submit" type="button"/>Send</button>
</body>
<script>
    var droneSocket = new WebSocket(
        'ws://' + window.location.host +
        '/ws/drones/dashboard/');

    droneSocket.onmessage = function(e) {
        var data = JSON.parse(e.data);
        var message = data['message'];
        console.log(message);
    };

    droneSocket.onclose = function(e) {
        console.error('drone socket closed unexpectedly');
    };

    document.querySelector('#drones-location-submit').onclick = function(e) {
        droneSocket.send(JSON.stringify({lat : 34, long : 34}));
    };

</script>
</html>